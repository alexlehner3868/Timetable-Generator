{"ast":null,"code":"var _jsxFileName = \"/nfs/ug/homes-2/c/chelmec4/SchedulerAssistant/scheduler_front-end/src/Calculator.js\";\nimport React from 'react';\nimport CalculatorPanel from './CalculatorPanel';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Calculator extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: \"\",\n      numbers: [\"\", \"\"],\n      numberIdx: 0,\n      operation: \"\"\n    };\n  }\n\n  operationHandler(operation) {\n    if (this.state.numberIdx === 1) {\n      this.equalHandler();\n      return;\n    }\n\n    if ((operation === \"subtract\" || operation === \"add\") && this.state.numbers[this.state.numberIdx] === \"\") {\n      this.numberHandler(operation === \"subtract\" ? \"-\" : \"+\");\n      return;\n    }\n\n    this.setOperation(operation);\n  }\n\n  numberHandler(number) {\n    const newNumber = this.state.numbers[this.state.numberIdx] + number;\n    this.updateNumber(newNumber);\n  }\n\n  dotHandler() {\n    const newNumber = this.state.numbers[this.state.numberIdx] + \".\";\n\n    if (isNaN(newNumber)) {\n      return;\n    }\n\n    this.updateNumber(newNumber);\n  }\n\n  clearHandler() {\n    this.setState({\n      result: \"\",\n      numbers: [\"\", \"\"],\n      numberIdx: 0\n    });\n  }\n\n  equalHandler() {\n    if (this.state.numbers[0] === \"\" || this.state.numbers[1] === \"\") {\n      return;\n    }\n\n    this.props.calculatorApi.calculate(this.state.numbers[0], this.state.numbers[1], this.state.operation, result => {\n      this.setResult(result);\n    });\n  }\n\n  updateNumber(newNumber) {\n    var newNumbers = this.state.numbers;\n    newNumbers[this.state.numberIdx] = newNumber;\n    this.setState({\n      result: newNumbers[this.state.numberIdx],\n      numbers: newNumbers\n    });\n  }\n\n  setOperation(operation) {\n    this.setState({\n      operation: operation\n    });\n    this.nextNumber();\n  }\n\n  nextNumber() {\n    const newIdx = this.state.numberIdx === 0 ? 1 : 0;\n    this.setState({\n      result: this.state.numbers[newIdx],\n      numberIdx: newIdx\n    });\n  }\n\n  setResult(result) {\n    const newNumbers = [result, \"\"];\n    const newNumberIdx = 0;\n    this.setState({\n      result: newNumbers[newNumberIdx],\n      numbers: newNumbers,\n      numberIdx: newNumberIdx,\n      operation: \"\"\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calculator-grid-container\",\n      children: /*#__PURE__*/_jsxDEV(CalculatorPanel, {\n        result: this.state.result,\n        numberClicked: this.numberHandler.bind(this),\n        operationClicked: this.operationHandler.bind(this),\n        dotClicked: this.dotHandler.bind(this),\n        equalClicked: this.equalHandler.bind(this),\n        clearClicked: this.clearHandler.bind(this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Calculator;","map":{"version":3,"names":["React","CalculatorPanel","Calculator","Component","constructor","props","state","result","numbers","numberIdx","operation","operationHandler","equalHandler","numberHandler","setOperation","number","newNumber","updateNumber","dotHandler","isNaN","clearHandler","setState","calculatorApi","calculate","setResult","newNumbers","nextNumber","newIdx","newNumberIdx","render","bind"],"sources":["/nfs/ug/homes-2/c/chelmec4/SchedulerAssistant/scheduler_front-end/src/Calculator.js"],"sourcesContent":["import React from 'react'\nimport CalculatorPanel from './CalculatorPanel'\n\nclass Calculator extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: \"\",\n      numbers: [\"\", \"\"],\n      numberIdx: 0,\n      operation: \"\",\n    };\n  }\n\n  operationHandler(operation) {\n    if(this.state.numberIdx === 1) {\n      this.equalHandler();\n      return;\n    }\n\n    if( (operation === \"subtract\" || operation === \"add\") &&\n          this.state.numbers[this.state.numberIdx] === \"\") {\n      this.numberHandler(operation === \"subtract\" ? \"-\" : \"+\");\n      return;\n    }\n\n    this.setOperation(operation);\n  }\n\n  numberHandler(number) {\n    const newNumber = this.state.numbers[this.state.numberIdx] + number;\n    this.updateNumber(newNumber);\n  }\n\n  dotHandler() {\n    const newNumber = this.state.numbers[this.state.numberIdx] + \".\";\n    if(isNaN(newNumber)) {\n      return\n    } \n    this.updateNumber(newNumber);\n  }\n\n  clearHandler() {\n    this.setState({\n      result: \"\",\n      numbers: [\"\", \"\"],\n      numberIdx: 0,\n    });\n  }\n  \n  equalHandler() {\n    if(this.state.numbers[0] === \"\" || this.state.numbers[1] === \"\") {\n      return\n    }\n    this.props.calculatorApi.calculate(\n      this.state.numbers[0], \n      this.state.numbers[1], \n      this.state.operation, \n      (result)=> {\n        this.setResult(result);\n      });\n  }\n\n  updateNumber(newNumber) {\n    var newNumbers = this.state.numbers;\n    newNumbers[this.state.numberIdx] = newNumber;\n    this.setState({\n      result: newNumbers[this.state.numberIdx],\n      numbers: newNumbers,\n    });\n  }\n\n  setOperation(operation){\n    this.setState({operation: operation});\n    this.nextNumber();\n  }\n\n  nextNumber() {\n    const newIdx = this.state.numberIdx === 0 ? 1 : 0;\n    this.setState({\n      result: this.state.numbers[newIdx],\n      numberIdx: newIdx,\n    });\n  }\n\n  setResult(result){\n    const newNumbers = [result, \"\"];\n    const newNumberIdx = 0;\n    this.setState({\n      result: newNumbers[newNumberIdx],\n      numbers: newNumbers,\n      numberIdx: newNumberIdx,\n      operation: \"\",\n    });\n  }\n\n  render() {\n    return (\n        <div className=\"calculator-grid-container\">\n          <CalculatorPanel \n            result={this.state.result} \n            numberClicked={this.numberHandler.bind(this)}\n            operationClicked={this.operationHandler.bind(this)}\n            dotClicked={this.dotHandler.bind(this)}\n            equalClicked={this.equalHandler.bind(this)}\n            clearClicked={this.clearHandler.bind(this)}\n            />\n        </div>\n      );\n  }\n}\n\nexport default Calculator;"],"mappings":"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"},"metadata":{},"sourceType":"module"}